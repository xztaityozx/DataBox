
---
marp: true
<!--class: invert-->
theme: default
---


# ç¬¬2å› ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼å‹‰å¼·ä¼š

---

## [ã¯ã˜ã‚ã«](/ã¯ã˜ã‚ã«.md)

---

# ä»Šå›ã®ãƒ†ãƒ¼ãƒ

## å°‘ã—ãšã¤ãƒ‡ãƒ¼ã‚¿ã‚’åŠ å·¥ã—ã¦ã„ã“ã†

---

# å‰å›ã®åçœç‚¹

- å‡ºé¡Œè€…ã®é›£æ˜“åº¦æ„ŸãŒå£Šã‚Œã¦ã„ãŸ
  - è¤‡é›‘åº¦ãŒé«˜ã„
  - è§£ã‘ãŸã®ã§ã†ã‚Œã—ã„ã‚’ä½“æ„Ÿã—ã¦ã‚‚ã‚‰ã„ã¥ã‚‰ã‹ã£ãŸ

- ãã†ã„ãˆã°å•é¡Œã‚’ã©ã†ã‚„ã£ã¦è§£ã„ã¦ã„ãã¨è‰¯ã„ã‹èª¬æ˜ã—ã¦ãªã‹ã£ãŸãªï½¥ï½¥ï½¥ğŸ¤”
  - ä»Šå›ã¯ãã®èª¬æ˜ã‚‚ã—ã¾ã™ã€‚
  - é•·ããªã‚‹ã¨çœ ã„ğŸ˜ªã®ã§ã‚ã‚“ã¾ã‚Šæ™‚é–“ãŒã‹ã‹ã‚‰ãªã„ã‚ˆã†ã«ã—ã¦ã„ããŸã„ã€‚

---

# å…¨ç„¶è§£ã‘ãªã‹ã£ãŸğŸ˜«ã¨ã„ã†äººã¸

## ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ°—ã«åŠ å·¥ã—ã‚ˆã†ã¨ã—ã¦ã¾ã›ã‚“ã‹ï¼Ÿ

- ãƒ‡ãƒ¼ã‚¿ã¯ä¸€æ°—ã«åŠ å·¥ã§ãã¾ã›ã‚“ï¼
  - å¤šãã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã¯ã€Œã²ã¨ã¤ã®ã“ã¨ã‚’ã†ã¾ãã‚„ã‚‹ã€ã‚ˆã†ã«ã§ãã¦ã„ã¾ã™
  - å¤šãã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã¯ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¨ã—ã¦ãµã‚‹ã¾ã„ã¾ã™

1ã¤ã®ãƒ„ãƒ¼ãƒ«ã§è§£æ±ºã™ã‚‹ã®ã‚’å¦å®šã—ã¦ã„ã‚‹ã‚ã‘ã˜ã‚ƒãªã„ã‚ˆğŸ˜‰

---

# ä¾‹

å‰å›ã®Q1

## `nums`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯1è¡Œã”ã¨ã«æ•°å€¤ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚ãã®ç·å’Œã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

```sh
$ cat nums | tr \\n + | sed 's/+$/\n/g' | bc
```

---

```sh
$ cat nums | \
1: tr \\n + | \
2: sed 's/+$/\n/g' | \
3: bc
```

1. æ”¹è¡Œæ–‡å­—ã‚’ `+` æ–‡å­—ã«ç½®æ› (å¼ã£ã½ã„ç‰©ã¸åŠ å·¥)
2. æœ«å°¾ã® `+` ã‚’å‰Šé™¤ (å¼ã¨ã—ã¦æˆç«‹ã•ã›ã‚‹)
3. `bc` ã‚³ãƒãƒ³ãƒ‰ã§å¼ã‚’è©•ä¾¡ã™ã‚‹ (ã“ã‚ŒãŒã‚„ã‚ŠãŸã‹ã£ãŸ)

--- 

# ãã‚“ãªã“ã¨è¨€ã£ãŸã£ã¦ã€é–“ã«ä½¿ã†ãƒ„ãƒ¼ãƒ«ãŒã‚ã‹ã‚“ãªã„ã‚ˆğŸ˜­ğŸ˜­ğŸ˜­

---

# ã‚ã‹ã‚‹ãªã‚ï½¥ï½¥ï½¥
- `coreutils`ã‚’è¦‹ã¦ã¿ã‚ˆã†
  - `ls`ã¨ã‹`cp`ã¨ã‹`grep`åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆ
- `awk`ã¨ã‹`sed`ã¨ã‹CLIã‹ã‚‰æ‰±ã„ã‚„ã™ã„é«˜ç´šãªãƒ•ã‚£ãƒ«ã‚¿ã‚’1ã¤å­¦ã‚“ã§ã¿ã‚ˆã†
  - ä½•ã§ã‚‚ã‚ˆã„
  - PythonãŒã„ã„ãªã‚‰`opy`ã¨ã„ã†ã‚„ã¤ãŒè‰¯ã„ã‚ˆ
  - Perlã‚‚ã¨ã¦ã‚‚è‰¯ã„ã‚ˆ
- GitHubã§cliã¨ã‹ã§æ¤œç´¢ã—ã¦ã¿ã‚ˆã†

---

# ã˜ã‚ƒãå•é¡Œã‚„ã£ã¦ã„ã“ã†ã‹
## ä»Šå›ã¯ã¡ã‚‡ã£ã¨è§£èª¬ã¯ä¸å¯§ã«ã—ã¦ã„ãã¾ã™
- ãƒ„ãƒ¼ãƒ«ãƒ¯ãƒ³ãƒ‘ãƒ³ã§è§£ã‘ãã†ãªå•é¡Œã‚‚ãƒ‘ã‚¤ãƒ—ãŸãã•ã‚“ã¤ãªã„ã§è§£ã„ã¦ã¿ã¦ã­ğŸ˜‰
- ã§ã‚‚ãƒ¯ãƒ³ãƒ‘ãƒ³ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚‚æ•™ãˆã¦ã»ã—ã„ãªğŸ’›

--- 

# Q1 Nabeatsulize
## 40ã¾ã§ã®æ•°å€¤ã‚’æ”¹è¡ŒåŒºåˆ‡ã‚Šã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚ãŸã ã—ã€3ã®å€æ•°ã¨3ã®ä»˜ãæ•°å­—ã®æ™‚ã ã‘ã€ã€Œahoã€ã¨å‡ºåŠ›ã—ã¦ãã ã•ã„

åˆã£ã¦ã„ã‚‹ã‹ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒã‚§ãƒƒã‚¯

```zsh
$ [ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼] | diff - ./aho
```

---

# Q1 ãƒ’ãƒ³ãƒˆ

- ã€Œ3ã®å€æ•°ã€ã®ãƒ•ã‚£ãƒ«ã‚¿
- ã€Œ3ãŒã¤ãæ•°å­—ã€ã®ãƒ•ã‚£ãƒ«ã‚¿

ã¯åˆ¥ã«ã—ã¦ã¿ã‚ˆã†

---

# A1

```sh
# perl -pe 's/.*3.*/aho/' ã§ã‚‚ã‚ˆã„
$ seq 40 | sed 's/.*3.*/aho/' | awk '{if($1%3){print $1}else{print "aho"}}'
$ yes aho | nl -nln | head -n40 | awk '/3/||$1%3==0{$1=""}4' | tr -d ' ' | cut -f1
$ seq 40 | sed '3~3s/.*/aho/;s/.*3.*/aho/'
```

---

# Q2 Date Sequence
## 2019å¹´1æœˆ1æ—¥ã‹ã‚‰2019å¹´12æœˆ31æ—¥ã¾ã§ã®æ—¥ä»˜ã‚’ `YYYY-mm-dd` ã§åˆ—æŒ™ã—ã¦ãã ã•ã„

---

# Q2 ãƒ’ãƒ³ãƒˆ
æ—¥ä»˜ã¨ã—ã¦æ­£ã—ã„æ–‡å­—åˆ—ã‚’ã„ããªã‚Šåˆ—æŒ™ã™ã‚‹ã®ã¯é›£ã—ãã†ï½¥ï½¥ï½¥ã§ã‚‚`0101`ã¨ã‹`1231`ã¨ã‹ã¯ãŸã ã®æ•°å­—ï½¥ï½¥ï½¥ã“ã‚Œã®åˆ—æŒ™ã¯ã§ããã†ï½¥ï½¥ï½¥ï¼Ÿ

---

# A2

```sh
$ seq -w 0101 1231 | grep -vP "[4-9].$" | grep -vP "3[2-9]$" | grep -vP "00$" | grep -vP "(0[2469]|11)31" | grep -vP "02(29|30)" | sed 's/^../2019-&-/'
$ seq 0 364 | awk '{print "date -d \"2019-01-01 "$1" days\" \"+%F\""}' | bash
$ seq 0 364 | xargs -I@ date -d '2019-01-01 @ days' "+%F" 
$ dateutils.dseq 2019-01-01 2019-12-31
```

[dateutils](https://github.com/hroptatyr/dateutils)

---

# Q3 Twin Prime
## å·®ãŒ2ã§ã‚ã‚‹ç´ æ•°ã®ãƒšã‚¢ã‚’100å€‹å‡ºåŠ›ã—ã¦ãã ã•ã„

```
3 5
5 7
11 13
...
```

åˆã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒã‚§ãƒƒã‚¯

```zsh
$ [ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼] | diff - ./twins
```

---

# Q3 ãƒ’ãƒ³ãƒˆ
- ç´ æ•°åˆ¤å®šã«ã¯ `factor` ã‚³ãƒãƒ³ãƒ‰ã‚„ `openssl prime`ãŒä¾¿åˆ©ã§ã™
- æœ€åˆã«ç›®æ¨™ã«ã™ã‚‹ã®ã¯ `(2,3)`, `(3,5)`, `(5,7)`, `(7,11)` ... ã¨ã„ã†ã‚ˆã†ãªéš£ã‚Šåˆã£ãŸç´ æ•°ã®ãƒªã‚¹ãƒˆ

---

# A3

```zsh
$ seq inf | factor | awk 'NF==2{print $2}' | awk '{print x, $1; x=$1}' | awk '{if($2-$1==2)print $0}' | head -n100
$ seq inf | xargs -n1 openssl prime | grep "is prime" |awk '{print $2}' | tr -d '()' | awk '{print x,x=$1}' | awk '$2-$1==2' | head -n100
```

---
# Q4 Expr Stream
## `1,2,3,4`ã€ãã‚Œãã‚Œã®æ•°å­—ã®é–“ã«`+,-,/,*`ã®ã©ã‚Œã‹ã‚’å…¥ã‚Œã¦ã€è¨ˆç®—å¼ã‚’åˆ—æŒ™ã—ã¦ãã ã•ã„ã€‚ã¾ãŸãã®çµæœãŒè² ãªçµ„ã¿åˆã‚ã›ã ã‘å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚

åˆã£ã¦ã„ã‚‹ã‹ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒã‚§ãƒƒã‚¯
```zsh
$ [ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼] | sort | diff - ./expr
```

---

# Q4
## `1,2,3,4`ã€ãã‚Œãã‚Œã®æ•°å­—ã®é–“ã«`+,-,/,*`ã®ã©ã‚Œã‹ã‚’å…¥ã‚Œã¦ã€è¨ˆç®—å¼ã‚’åˆ—æŒ™ã—ã¦ãã ã•ã„ã€‚ã¾ãŸãã®çµæœãŒè² ãªçµ„ã¿åˆã‚ã›ã ã‘å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚intã§è¨ˆç®—ã—ãŸçµæœã§è‰¯ã„ã§ã™ã€‚

æ•°å¼ã®åˆ—æŒ™ EX)

```
1+2+3+4
1-2-3-4
1/2/3/4
1*2*3*4
```

---


# Q4 ãƒ’ãƒ³ãƒˆ
- æ­£è¦è¡¨ç¾ã¨ã‹ãƒ–ãƒ¬ãƒ¼ã‚¹å±•é–‹ãŒä¾¿åˆ©ã‹ã‚‚
  - æ­£è¦è¡¨ç¾: `"1 2" ~ s@([^ ]*) (.*)@\1+\2 \1-\2@ => 1+2 1-2`
  - ãƒ–ãƒ¬ãƒ¼ã‚¹å±•é–‹: `1{+,-}2 => 1+2 1-2`
- `è¨ˆç®—å‰ã®æ–‡å­—åˆ— è¨ˆç®—å¾Œã®å€¤` ã¨ã„ã†æ„Ÿã˜ã«ã—ã¦ãŠã‘ã°ã€`awk`ã‚„`perl`ã§ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹ã®ã¯ç°¡å˜ãã†
- å¼ã‚’è©•ä¾¡ã™ã‚‹ã®ã¯ã©ã†ã™ã‚‹ï¼Ÿ
  - bash/zshã®ç®—è¡“å±•é–‹
  - bc

ä½¿ãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã‚³ãƒãƒ³ãƒ‰
- `paste`
- `xargs -I`
- `awk`, `bc`, `perl`, `sed`
- `teip`

---

# A4

```
$ echo 1{+,-,/,\*}2{+,-,/,\*}3{+,-,/,\*}4 | fmt -1 | xargs -I@ echo "echo '@' \$((@))" | bash | awk '$2<0{print $1}' | sort
$ echo 1 2 3 4 | sed -E 's@([^ ]) (.*)@\1+\2\n\1-\2\n\1*\2\n\1/\2@' | sed -E 's@([^ ]*) (.*)@\1+\2\n\1-\2\n\1*\2\n\1/\2@' | sed -E 's@([^ ]*) (.*)@\1+\2\n\1-\2\n\1*\2\n\1/\2@' > f && cat f | paste - <(cat f | bc) | perl -ale 'print if $F[1] < 0' | sort
$ echo 1{+,-,/,\*}2{+,-,/,\*}3{+,-,/,\*}4 | fmt -1 | awk '{print $0,$0}' | teip -f2 bc | awk '$2<0{print $1}' | sort
```

---

# Q5 æš—å·è§£èª­
## angoãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯æš—å·æ–‡ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€ãã‚Œã‚’è§£ããŸã„ã§ã™
angoãƒ•ã‚¡ã‚¤ãƒ«ã¯ASCIIã‚³ãƒ¼ãƒ‰å€¤1ã¤1ã¤ã«å¯¾ã—ã¦ã‚ã‚‹è¨ˆç®—ã‚’æ–½ã—ãŸæš—å·ã§ã™ã€‚ãã®è¤‡åˆæ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™

- å„æ•°å­—ã‚’dä¹—ã™ã‚‹
- ãã®å€¤ã‚’nã§å‰²ã£ãŸã¨ãã®ä½™ã‚Šã‚’æ±‚ã‚ã‚‹

---

### Q5 å°å•1
`d=200`, `n=5893`ã®ã¨ãã®è¤‡åˆçµæœã‚’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§å‡ºåŠ›ã—ã¦ãã ã•ã„

```
$ [ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼] | xargs | diff - ./q5-1
```

---

### Q5 å°å•2
`d=173`ãªã®ã¯è¦šãˆã¦ã„ã‚‹ã®ã§ã™ãŒã€`n`ãŒä½•ã ã£ãŸã‹æ€ã„å‡ºã›ã¾ã›ã‚“ã€‚ãã†ã„ãˆã° **ã¨ã‚ã‚‹åŒå­ç´ æ•°ã®ç©** ã«ã—ãŸã“ã¨ã¯è¦šãˆã¦ã„ã¾ã™ã€‚ã“ã®æƒ…å ±ã‚’ã‚‚ã¨ã«æš—å·æ–‡ã‚’è§£èª­ã—ã¦ãã ã•ã„

EX) æ•°å€¤åˆ—ã‚’ASCIIæ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹å›
```
$ [æ”¹è¡ŒåŒºåˆ‡ã‚Šã®æ•°å€¤åˆ—] | xargs | awk '{for(i=1;i<=NF;i++){if($i>256)exit(1); printf("%c", $i)}}'
```

---

# A5

```zsh
# å°å•1
$ cat ./ango | xargs -n1 | awk '{x=1;for(i=0;i<200;i++){x*=$1;x%=5893};print x}'

# å°å•2
$ cat twins | while read P Q; do cat ango |xargs -n1 | awk -v p=$P -v q=$Q '{x=1;for(i=0;i<173;i++){x*=$1;x%=p*q}print x}'|xargs|awk '{for(i=1;i<=NF;i++){if($i>256)exit(1);printf("%c",$i)};print ""}'; done
```
